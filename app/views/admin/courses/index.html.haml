%h1 Listing courses

%table.table.table-bordered.table-striped.table-hover
  %tr
    %th Title
    %th Start time
    %th End time
    %th Venue
    %th Description
    %th Price
    %th Places available
    %th Number Registered
    %th Places Left
    %th Course Details
    %th Edit Course
    %th Delete Course

  - @courses.each do |course|
    %tr
      %td= course.title
      %td= course.start_time.to_s(:long)
      %td= course.end_time.to_s(:long)
      %td= course.venue
      %td= course.description
      %td= number_to_currency(course.price, :unit => "&pound;", :separator => ",", :delimiter => "")
      %td= course.places_available
      %td= pluralize course.users.size, 'place'
      %td= course_places_remaining(course)
      %td= link_to 'Show', admin_course_path(course), :class => 'btn btn-mini btn-primary'
      %td= link_to 'Edit', edit_admin_course_path(course), :class => 'btn btn-mini btn-primary'
      %td= link_to 'Delete', admin_course_path(course), :method => :delete, :data => { :confirm => 'Are you sure?' }, :class => 'btn btn-mini btn-danger'

%br
= link_to 'Add a New Course', new_admin_course_path, :class => 'btn btn-small btn-success'
